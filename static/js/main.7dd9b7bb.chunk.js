(this["webpackJsonpreact-js"]=this["webpackJsonpreact-js"]||[]).push([[0],{183:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),o=n(64),i=n.n(o),u=(n(71),n(72),n(73),n(74),n(8)),s=n(66),a=n(65),f=n.n(a),l=n(0),d=function(e){e.className;var t=e.point,n=f()({default:{container:{position:"absolute",left:t.currentXY[0],top:t.currentXY[1]},point:{backgroundColor:t.colour}}});return Object(r.useEffect)((function(){t.size=[t.ref.current.offsetWidth,t.ref.current.offsetHeight],t.ref.current.parentNode.style.left=t.currentXY[0],t.ref.current.parentNode.style.top=t.currentXY[1]})),t.ref=Object(r.useRef)(null),Object(l.jsx)("div",{style:n.container,children:Object(l.jsx)("div",{ref:t.ref,style:n.point,className:"dragItem",id:t.id})})};d.defaultProps={className:"dragItem"};var p=d,j=function(e){var t=e.points;return console.log("Points are ",t),Object(l.jsx)(l.Fragment,{children:t.map((function(e){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(p,{point:e})})}))})};var v=function(){var e=!1,t=Object(r.useState)([{ref:null,active:!1,colour:"#f5e663",pointerOffset:[0,0],currentXY:[50,50],size:[0,0]}]),n=Object(s.a)(t,2),c=n[0],o=n[1],i=function(t){var n;if(e=!0,"dragItem"===(n="touch"===t.type.substr(0,5)?document.elementFromPoint(t.touches[0].clientX,t.touches[0].clientY):t.target).className){var r;for(var i in c)c[i].ref.current===n&&(console.log("now "+i),r=i);console.log("dragStart "+r,c[r]),"touch"===t.type.substr(0,5)?(c[r].pointerOffset[0]=t.touches[0].clientX-c[r].currentXY[0],c[r].pointerOffset[1]=t.touches[0].clientY-c[r].currentXY[1]):(c[r].pointerOffset[0]=t.clientX-c[r].currentXY[0],c[r].pointerOffset[1]=t.clientY-c[r].currentXY[1]),c[r].active=!0,c[r].ref.current.classList.add("active"),c[r].ref.current.parentNode.style.zIndex=1,o(Object(u.a)(c))}},a=function(t){if(d()){var n;for(var r in c)c[r].active&&(n=r);t.preventDefault(),"touch"===t.type.substr(0,5)?(c[n].currentXY[0]=t.touches[0].clientX-c[n].pointerOffset[0],c[n].currentXY[1]=t.touches[0].clientY-c[n].pointerOffset[1]):(c[n].currentXY[0]=t.clientX-c[n].pointerOffset[0],c[n].currentXY[1]=t.clientY-c[n].pointerOffset[1]);var s=[[c[n].ref.current.parentNode.parentNode.getBoundingClientRect().left,c[n].ref.current.parentNode.parentNode.getBoundingClientRect().top],[0,0]];s[1]=[s[0][0]+c[n].ref.current.parentNode.parentNode.clientWidth-c[n].size[0],s[0][1]+c[n].ref.current.parentNode.parentNode.clientHeight-c[n].size[1]],c[n].currentXY[0]=Math.max(Math.min(c[n].currentXY[0],s[1][0]),s[0][0]),c[n].currentXY[1]=Math.max(Math.min(c[n].currentXY[1],s[1][1]),s[0][1]),c[n].ref.current.parentNode.style.left=c[n].currentXY[0],c[n].ref.current.parentNode.style.top=c[n].currentXY[1],o(Object(u.a)(c))}else e&&i(t)},f=function(t){var n;for(var r in e=!1,c)c[r].active&&(n=r);n&&(c[n].pointerOffset[0]=c[n].currentXY[0],c[n].pointerOffset[1]=c[n].currentXY[1],c[n].ref.current.classList.remove("active"),c[n].active=!1,c[n].ref.current.parentNode.style.zIndex=0,console.log("dragEnd "+n,c[n]),o(Object(u.a)(c)))},d=function(){var e=!1;for(var t in c)e=e||c[t].active;return e};return Object(l.jsx)("div",{className:"App",onTouchStart:function(e){return i(e)},onMouseDown:function(e){return i(e)},onTouchMove:function(e){return a(e)},onMouseMove:function(e){return a(e)},onTouchEnd:function(e){return f()},onMouseUp:function(e){return f()},children:Object(l.jsxs)("div",{id:"outerContainer",children:[Object(l.jsx)("div",{id:"dragPalette",children:Object(l.jsx)(j,{points:c})}),Object(l.jsxs)("div",{id:"point-manager",children:[Object(l.jsx)("button",{className:"button plus",onClick:function(){o([].concat(Object(u.a)(c),[{ref:null,active:!1,colour:"#f5e663",pointerOffset:[0,0],currentXY:[50,50],size:[0,0]}]))}}),Object(l.jsx)("button",{className:"button minus",onClick:function(){return function(e){var t=e.index;-1===t&&(t=c.length-1),console.log("Removing point with key "+t);var n=c;n.splice(t,1),o(Object(u.a)(n)),console.log("New points are ",c)}({index:-1})}})]})]})})},b=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,184)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),o(e),i(e)}))};i.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root")),b()},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){}},[[183,1,2]]]);
//# sourceMappingURL=main.7dd9b7bb.chunk.js.map