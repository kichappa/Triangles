(this["webpackJsonpreact-js"]=this["webpackJsonpreact-js"]||[]).push([[0],{214:function(t,n,e){"use strict";e.r(n);var i=e(0),r=e.n(i),o=e(80),a=e.n(o),c=(e(95),e(96),e(97),e(98),e(81)),s=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,216)).then((function(n){var e=n.getCLS,i=n.getFID,r=n.getFCP,o=n.getLCP,a=n.getTTFB;e(t),i(t),r(t),o(t),a(t)}))},u=e(52),d=e(4);a.a.render(Object(d.jsx)(r.a.StrictMode,{children:Object(d.jsx)(u.a,{children:Object(d.jsx)(c.a,{})})}),document.getElementById("root")),s()},81:function(t,n,e){"use strict";(function(t){var i=e(53),r=e.n(i),o=e(89),a=e(82),c=e(8),s=e(21),u=e(7),d=e(0),l=e(90),v=e(88),h=e(15),g=e(3),f=e(4);n.a=function(){var n,e=Object(d.useState)(!1),i=Object(u.a)(e,2),b=i[0],p=i[1],m=Object(d.useState)(!1),x=Object(u.a)(m,2),j=x[0],O=x[1],w=Object(d.useState)(window.location.origin),y=Object(u.a)(w,2),R=y[0],k=y[1],S=Object(g.c)(),C=Object(d.useState)({down:!1,stateSaved:!1,clicked:{status:!1,index:void 0,obj:void 0},showRadius:!1,active:!1,resizing:{mode:!1,start:!1},target:{obj:void 0,index:void 0,initialPosition:{x:0,y:0},initialRadius:void 0},pos:{start:{x:0,y:0},middle:{x:0,y:0},end:{x:0,y:0},getXY:function(t){return"start"===t?[this.start.x,this.start.y]:"middle"===t?[this.middle.x,this.middle.y]:"end"===t?[this.end.x,this.end.y]:void 0}}}),M=Object(u.a)(C,2),z=M[0],P=M[1],I=Object(d.useState)([]),N=Object(u.a)(I,2),A=N[0],B=N[1],_=Object(d.useState)([]),E=Object(u.a)(_,2),H=E[0],L=E[1],Y=Object(d.useState)([]),X=Object(u.a)(Y,2),F=X[0],T=X[1],D=Object(d.useState)(!1),W=Object(u.a)(D,2),V=W[0],U=W[1],J=function(t){var n,e,i,r,o,a,c=[t.r,t.g,t.b];0===(i=(n=Math.max.apply(Math,c))-(e=Math.min.apply(Math,c)))?r=0:n===c[0]?r=(c[1]-c[2])/i%6:n===c[1]?r=(c[2]-c[0])/i+2:n===c[2]&&(r=(c[0]-c[1])/i+4);var s={h:r=((r*=60)%360+360)%360,s:0===(o=n/255)?0:i/(255*o),v:o,a:1},u={h:r,s:1===(a=(n+e)/510)||0===a?0:i/(255*(1-Math.abs(2*a-1))),l:a,a:1};t.a=1;var d="#";for(var l in c){var v=Math.floor(c[l]).toString(16);d+="0".repeat(2-v.length)+v}return{rgb:t,hsv:s,hsl:u,hex:d}},G=J({r:255*Math.random(),g:255*Math.random(),b:255*Math.random()}),q=new URLSearchParams(window.location.search),K={};try{var Q,Z=Object(s.a)(q.entries());try{for(Z.s();!(Q=Z.n()).done;){var $=Q.value;K[$[0]]=JSON.parse(t.from($[1],"base64").toString())}}catch(St){Z.e(St)}finally{Z.f()}n=K.points}catch(Ct){n=[{pointRef:null,containerRef:null,radius:0,colour:G,showPicker:!1,currentXY:{x:50,y:50},size:void 0,containerSize:void 0}]}var tt=Object(d.useState)(n),nt=Object(u.a)(tt,2),et=nt[0],it=nt[1],rt=function(t){var n=[[0,0,0],[0,0,0]];return n[0]=[t.hsv.h,t.hsv.s,t.hsv.v],n[1]=[t.rgb.r,t.rgb.g,t.rgb.b],n},ot=function(t){var n=new Array(et.length);for(var e in et)if(et[e].size){var i=ft(e);n[e]={x:i.x,y:i.y,colour:et[e].colour,colourArr:rt(et[e].colour),radius:et[e].radius}}if(!t)return n;ut(n)},at=Object(d.useState)(!1),ct=Object(u.a)(at,2),st=ct[0],ut=ct[1],dt=function(t){var n,e,i;z.down=!0,z.pos.start=vt(t),z.target.obj=(n=document).elementFromPoint.apply(n,Object(c.a)(z.pos.getXY("start")));var r=lt(z.target.obj);r&&(z.target.index=r),z.target.obj.classList.contains("dragItem")||ht(!1,0,"0.3s"),z.target.obj.classList.contains("dragItem")&&(!z.clicked.status||z.clicked.status&&z.clicked.index!==z.target.index||!z.showRadius)?r&&(z.target.init={x:et[z.target.index].currentXY.x-z.pos.start.x,y:et[z.target.index].currentXY.y-z.pos.start.y},z.active=!0,et[z.target.index].tags={active:!0},et[z.target.index].containerRef.current.style.zIndex=2):z.clicked.status&&z.clicked.index===z.target.index&&(null===(e=et[z.clicked.index])||void 0===e||null===(i=e.tags)||void 0===i?void 0:i.showRadius)&&(z.resizing.mode=!0,z.showRadius=!0,z.target.initialRadius=et[z.clicked.index].radius),it(Object(c.a)(et)),O(!0),P(z)},lt=function(t){for(var n in et)if(et[n].pointRef.current===t)return n},vt=function(t){return"touch"===t.type.substr(0,5)?{x:t.touches[0].clientX,y:t.touches[0].clientY}:{x:t.clientX,y:t.clientY}};function ht(t,n,e){return gt.apply(this,arguments)}function gt(){return(gt=Object(a.a)(r.a.mark((function t(n,e,i){return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n||void 0!==e||(e=700),void 0===i&&(i=n?"0.15s":"1s"),setTimeout((function(){var t=document.getElementsByClassName("hideButton");for(var e in t)t[e].classList&&(n?(t[e].classList.add("hidden"),t[e].style.transition="all 0.5s cubic-bezier(0.39, 0.58, 0.57, 1), opacity ".concat(i," ease-in-out")):(t[e].classList.remove("hidden"),t[e].style.transition="all 0.5s cubic-bezier(0.39, 0.58, 0.57, 1), opacity ".concat(i," ease-in-out")))}),e);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ft=function(t){return{x:et[t].currentXY.x+et[t].containerSize[0]/2,y:et[t].currentXY.y+et[t].containerSize[1]/2}},bt=function(t){var n=[[-(et[t].containerSize[0]-et[t].size[0])/2,-(et[t].containerSize[1]-et[t].size[1])/2],[0,0]];return n[1]=[n[0][0]+et[t].containerRef.current.parentNode.clientWidth-et[t].size[0],n[0][1]+et[t].containerRef.current.parentNode.clientHeight-et[t].size[1]],n},pt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;for(var n in!t&&(z.clicked.status=!1),et)t!==n&&(et[n].tags&&delete et[n].tags,et[n].containerRef.current.style.zIndex=1);it(et)},mt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.state,i=void 0===e?et:e,r=n.push,o=void 0===r||r,a=window.location.origin+"/?points="+t.from(JSON.stringify(Rt(i))).toString("base64");R!==a&&console.log(a),o?window.history.pushState(null,null,a):window.history.replaceState(null,null,a),k(a)},xt=function(t,n){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))},jt=function(t,n){return xt(n,t)<=5},Ot=function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(n){var e=yt(t);B(e)}else if(wt(t,A)){L([].concat(Object(c.a)(H),[A])),T([]);var i=yt(t);B(i),mt(t)}},wt=function(t,n){JSON.stringify(Rt(t)),JSON.stringify(Rt(n));return JSON.stringify(Rt(t))!=JSON.stringify(Rt(n))},yt=function(t){return JSON.parse(JSON.stringify(Rt(t)))},Rt=function(t){var n=[];for(var e in t){var i=Object(o.a)({},t[e]);try{i.pointRef=void 0,i.containerRef=void 0,delete i.tags}catch(r){console.error("Error in removing DOM elements.",r)}n.push(i)}return n},kt=function(t){"undo"===t&&H.length?(T([].concat(Object(c.a)(F),[A])),it(H[H.length-1]),L(H.slice(0,H.length-1)),U(!0),p(!0),O(!0)):"redo"===t&&F.length&&(L([].concat(Object(c.a)(H),[A])),it(F[F.length-1]),T(F.slice(0,F.length-1)),U(!0),p(!0),O(!0)),z.down=!1,mt()};return Object(d.useEffect)((function(){if(j)try{ot(!0),O(!1)}catch(St){console.error("Error in rendering page.",St)}b&&(Ot(et,V),V&&U(!1),p(!1))}),[j]),Object(d.useEffect)((function(){var n=new URLSearchParams(window.location.search),e={};try{var i,r=Object(s.a)(n.entries());try{for(r.s();!(i=r.n()).done;){var o=i.value;e[o[0]]=JSON.parse(t.from(o[1],"base64").toString())}}catch(St){r.e(St)}finally{r.f()}it(Object(c.a)(e.points)),L([].concat(Object(c.a)(H),[A])),T([]);var a=yt(e.points);B(a),U(!0),p(!0),O(!0)}catch(u){}}),[S]),Object(d.useEffect)((function(){ot(!0),O(!1),Ot(et,!0),p(!1),ht(!1,500),"points"in K||mt({push:!1})}),[]),Object(f.jsx)("div",{className:"App",onPointerDown:function(t){return dt(t)},onPointerMove:function(t){return function(t){if(z.pos.middle=vt(t),z.active&&!jt(z.pos.start,z.pos.middle)){pt();var n=z.target.index;if(n){t.preventDefault(),ht(!0,0);try{et[n].containerRef.current.style.zIndex=2}catch(o){}var e={x:0,y:0};e.x=z.pos.middle.x+z.target.init.x,e.y=z.pos.middle.y+z.target.init.y;var i=bt(n);et[n].currentXY.x=Math.max(Math.min(e.x,i[1][0]),i[0][0]),et[n].currentXY.y=Math.max(Math.min(e.y,i[1][1]),i[0][1])}}else if(z.resizing.mode){if(z.clicked.index){var r=xt(ft(z.clicked.index),{x:z.pos.middle.x-20,y:z.pos.middle.y-20});z.resizing.start?et[z.clicked.index].radius=Math.max(Math.abs(r)-25,0):r-25>=z.target.initialRadius&&(et[z.clicked.index].tags?et[z.clicked.index].tags.resizing=!0:et[z.clicked.index].tags={resizing:!0},z.resizing.start=!0)}}else z.down&&dt(t);it(Object(c.a)(et)),z.down&&O(!0),P(z)}(t)},onPointerUp:function(t){return function(t){"touch"===t.type.substr(0,5)?z.pos.end={x:t.touches[0].clientX,y:t.touches[0].clientY}:z.pos.end={x:t.clientX,y:t.clientY};var n=z.target.index;if(n){var e=document.elementFromPoint(t.clientX,t.clientY);if(jt(z.pos.start,z.pos.end)&&(e.classList.contains("dragItem")||e.classList.contains("dragIWeight"))){try{et[n].containerRef.current.style.zIndex=et[n].clicked?1:2}catch(i){}if(!z.clicked.status||z.clicked.target&&z.clicked.target!==e){z.clicked.status=!0,z.clicked.target=e,z.clicked.index=lt(e),pt(z.clicked.index),z.showRadius=!0;try{et[z.clicked.index].tags={clicked:!0,showRadius:!0}}catch(r){}}else z.clicked.target&&z.clicked.target===e&&(z.clicked.status=!1,pt(),z.clicked.target=void 0,z.clicked.index=void 0)}else if(z.resizing.start)delete et[n].tags.resizing;else if(z.active){ht(!1),pt(),z.active=!1;try{et[n].containerRef.current.style.zIndex=1}catch(o){}}z.down=!1,z.active=!1,z.resizing.mode=!1,z.resizing.start=!1,it(Object(c.a)(et)),P(z)}else z.down=!1,it(Object(c.a)(et));p(!0),O(!0)}(t)},children:Object(f.jsxs)("div",{id:"outerContainer",children:[Object(f.jsx)("div",{id:"dragPalette",children:Object(f.jsx)(v.a,{id:"gradientPalette",canvasPoints:st})}),Object(f.jsx)(l.a,{points:et,onRender:function(){var t=!1;for(var n in et)et[n].size||(t=!0,et[n].size=[et[n].pointRef.current.offsetWidth,et[n].pointRef.current.offsetHeight],et[n].containerSize=[et[n].pointRef.current.parentNode.parentNode.offsetWidth,et[n].pointRef.current.parentNode.parentNode.offsetHeight]);t&&it(et)},onChangeColor:function(t,n){var e=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(c.a)(et);i[t].colour=n,it(Object(c.a)(i)),O(!0),e&&p(!0)},onPickerButton:function(t){et[t].tags?et[t].tags.showPicker?(delete et[t].tags.showPicker,et[t].tags.showRadius=!0,z.showRadius=!0):(et[t].tags.showPicker=!0,delete et[t].tags.showRadius,z.showRadius=!1):et[t].tags={showPicker:!0},it(Object(c.a)(et))}}),Object(f.jsxs)("div",{id:"point-manager",children:[Object(f.jsx)("button",{className:"button plus hideButton hidden",onClick:function(){var t,n={x:50,y:50};if(et.length>0){var e=[[0,0],[0,0]];e[1]=[e[0][0]+et[0].containerRef.current.parentNode.clientWidth-et[0].size[0],e[0][1]+et[0].containerRef.current.parentNode.clientHeight-et[0].size[1]],n={x:Math.floor(Math.random()*e[1][0]+e[0][0]),y:Math.floor(Math.random()*e[1][1]+e[0][1])}}t={r:255*Math.random(),g:255*Math.random(),b:255*Math.random()};var i={ref:null,containerRef:null,radius:0,colour:t=J(t),showPicker:!1,pointerOffset:{x:0,y:0},currentXY:n,size:void 0,containerSize:void 0};it([].concat(Object(c.a)(et),[i])),p(!0),O(!0)},children:Object(f.jsx)(h.b,{})}),Object(f.jsx)("button",{className:"button minus hideButton hidden",onClick:function(){return function(t){-1===t&&(t=et.length-1),console.log("Removing point with key "+t);var n=et;n.splice(t,1),it(Object(c.a)(n)),p(!0),O(!0),console.log("New points are ",et)}(-1)},children:Object(f.jsx)(h.a,{})})]}),Object(f.jsx)("div",{id:"undo",className:"undo-redo undoButton",children:Object(f.jsx)("button",{className:"button hideButton hidden",onClick:function(){kt("undo")},children:Object(f.jsx)(h.e,{className:"undoButton"})})}),Object(f.jsx)("div",{id:"redo",className:"undo-redo",children:Object(f.jsx)("button",{className:"button hideButton hidden",onClick:function(){kt("redo")},children:Object(f.jsx)(h.c,{})})})]})})}}).call(this,e(99).Buffer)},88:function(t,n,e){"use strict";var i=e(7),r=e(0),o=e(8),a=e(213);function c(t){console&&(console.error?console.error(t):console.log&&console.log(t))}var s=/ERROR:\s*\d+:(\d+)/gi;function u(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",e=Object(o.a)(n.matchAll(s)),i=new Map(e.map((function(t,i){var r=parseInt(t[1]),o=e[i+1],a=o?o.index:n.length;return[r-1,n.substring(t.index,a)]})));return t.split("\n").map((function(t,n){var e=i.get(n);return"".concat(n+1,": ").concat(t).concat(e?"\n\n^^^ ".concat(e):"")})).join("\n")}function d(t,n,e,i){var r=i||c,o=t.createShader(e);if(t.shaderSource(o,n),t.compileShader(o),!t.getShaderParameter(o,t.COMPILE_STATUS)){var a=t.getShaderInfoLog(o);return r("Error compiling shader: ".concat(a,"\n").concat(u(n,a))),t.deleteShader(o),null}return o}function l(t,n,e,i,r){var o=r||c,s=t.createProgram();if(n.forEach((function(n){t.attachShader(s,n)})),e&&e.forEach((function(n,e){t.bindAttribLocation(s,i?i[e]:e,n)})),t.linkProgram(s),!t.getProgramParameter(s,t.LINK_STATUS)){var d=t.getProgramInfoLog(s);return o("Error in program linking: ".concat(d,"\n").concat(n.map((function(n){var e=u(t.getShaderSource(n)),i=t.getShaderParameter(n,t.SHADER_TYPE);return"".concat(a.glEnumToString(t,i),":\n").concat(e)})).join("\n"))),t.deleteProgram(s),null}return s}var v=["VERTEX_SHADER","FRAGMENT_SHADER"];var h=function(t,n,e,i,r){for(var o=[],a=0;a<n.length;++a)o.push(d(t,n[a],t[v[a]],r));return l(t,o,e,i,r)},g=function(t,n){if(t&&t.length>0){var e=n.getContext("webgl2");n.width=1*n.offsetWidth,n.height=1*n.offsetHeight;var i=h(e,["#version 300 es\n    in vec2 a_position;\n\n    uniform vec2 u_resolution;\n\n    out vec2 v_position;\n\n    void main(){\n        gl_Position = vec4(a_position/u_resolution * 2.0 - 1.0, 0, 1);\n        v_position = vec2(a_position.x, u_resolution.y-a_position.y);\n    }\n    ",(p=t.length,"#version 300 es\n    precision highp float;\n\n    in vec2 v_position;\n\n    uniform vec2 u_resolution;\n    uniform ivec2 pointsXY[".concat(p,"];\n    uniform float pointsRadius[").concat(p,"];\n    uniform vec3 pointsRGB[").concat(p,"];\n    uniform vec3 pointsHSV[").concat(p,"];\n\n    out vec4 outColor;\n\n    vec2 minMax(vec3 rgb){\n        vec2 mM = vec2(rgb[0], rgb[0]);\n        for(int i=1;i<3;i++){\n            if (rgb[i] < mM[0])\n                mM[0] = rgb[i];\n            if (rgb[i] > mM[1])\n                mM[1] = rgb[i];\n        }\n        return mM;\n    }\n\n    vec3 rgbToHsv(vec3 rgb){\n        float hue=0.0, C, V, Sv;\n        vec2 mM = minMax(rgb);\n        C = mM[1] - mM[0];\n        if(C==0.0){\n        }else if(mM[1]==rgb[0]){\n            hue = mod((rgb[1] - rgb[2]) / C, 6.0);\n        }else if(mM[1]==rgb[1]){\n            hue =     (rgb[2] - rgb[0]) / C + 2.0;\n        }else if(mM[1]==rgb[2]){\n            hue =     (rgb[0] - rgb[1]) / C + 4.0;\n        }\n        hue = mod((mod(hue * 60.0, 360.0) + 360.0), 360.0);\n\n        \n        V = mM[1];\n        if(V==0.0) Sv = 0.0;\n        else Sv = C/(V);\n\n        return vec3(hue, Sv, V);\n    }\n\n    float f(int n, vec3 hsv){\n        float k;\n        k = mod((float(n) + hsv[0] / 60.0), 6.0);\n        float fOut=hsv[2] - hsv[2] * hsv[1] * max(0.0, min(min(k, 4.0 - k), 1.0));\n        return fOut;\n    }\n\n    vec3 hsvToRgb(vec3 hsv){\n        vec3 rgb = vec3(f(5,hsv), f(3,hsv), f(1,hsv));\n        return rgb;\n    }\n\n    float dist(ivec2 pos, ivec2 point){\n        return pow(pow(float(pos.x-point.x), 2.0)+pow(float(pos.y-point.y), 2.0), 0.5);\n    }\n\n    void main(){\n        // ivec2 position = ivec2((v_position + 1.0) / 2.0 * u_resolution);\n        ivec2 position = ivec2(v_position);\n        float invSum = 0.0;\n        vec3 hsv = vec3(0,0,0), rgb = vec3(0,0,0);\n        int pointCentre = -1;\n        for(int i=0;i<").concat(p,";i++){\n            float d = dist(pointsXY[i], position);\n            if(abs(d)>0.0000001){\n                float invD = pow((1.0+pointsRadius[i]/10.0)/d, 3.0);\n                hsv += invD * pointsHSV[i];\n                rgb += invD * pointsRGB[i];\n                invSum += invD;\n            }else{\n                pointCentre=i;\n            }\n        }\n        if(pointCentre == -1){\n            hsv = hsv/invSum;\n            rgb = rgb/invSum;\n            // outColor = vec4(rgb, 1);\n            vec3 rgbInHsv = rgbToHsv(rgb);\n            // outColor = vec4(rgb, 1);\n            hsv[0] = rgbInHsv[0];\n            // hsv[1] = (1.25*rgbInHsv[1]+0.75*hsv[1])/2.0;\n            // hsv[1] = (2.0*rgbInHsv[1]+0.0*hsv[1])/2.0;\n            hsv[1] = rgbInHsv[1];\n            hsv[2] = (1.75*rgbInHsv[2]+0.25*hsv[2])/2.0;\n            // hsv[2]=0.5;\n            outColor = vec4(hsvToRgb(hsv),1);\n            // outColor = vec4(rgb,1);\n            // outColor = vec4(hsv,1);\n            // outColor = vec4(hsv[0]/360.0, hsv[1], hsv[2], 1);\n            // outColor = vec4(rgbInHsv[0]/360.0, rgbInHsv[1], rgbInHsv[2], 1);\n        }else{\n            hsv = pointsHSV[pointCentre];\n            rgb = pointsRGB[pointCentre];\n            outColor = vec4(rgb, 1);\n        }\n    }\n\n    "))]),r={position:e.getAttribLocation(i,"a_position"),resolution:e.getUniformLocation(i,"u_resolution"),pointsRadius:e.getUniformLocation(i,"pointsRadius"),pointsXY:e.getUniformLocation(i,"pointsXY"),pointsRGB:e.getUniformLocation(i,"pointsRGB"),pointsHSV:e.getUniformLocation(i,"pointsHSV")},o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o);var a=[0,n.height,n.width,0,n.width,n.height,0,0,n.width,0,0,n.height];e.bufferData(e.ARRAY_BUFFER,new Float32Array(a),e.STATIC_DRAW);var c=e.createVertexArray();e.bindVertexArray(c),e.enableVertexAttribArray(r.position);var s=e.FLOAT,u=0;e.vertexAttribPointer(r.position,2,s,!1,0,u),function(t,n){n=n||1;var e=t.clientWidth*n|0,i=t.clientHeight*n|0;(t.width!==e||t.height!==i)&&(t.width=e,t.height=i)}(e.canvas),e.viewport(0,0,e.canvas.width,e.canvas.height),e.useProgram(i);var d=t.map((function(t){return t.radius})),l=t.map((function(t){return[t.x,t.y]})),v=t.map((function(t){var n=t.colour;return[n.rgb.r/255,n.rgb.g/255,n.rgb.b/255]})),g=t.map((function(t){var n=t.colour;return[n.hsv.h/360,n.hsv.s,n.hsv.v]}));e.uniform1fv(r.pointsRadius,d.flat()),e.uniform2iv(r.pointsXY,l.flat()),e.uniform3fv(r.pointsRGB,v.flat()),e.uniform3fv(r.pointsHSV,g.flat()),e.uniform2f(r.resolution,n.width,n.height);var f=e.TRIANGLES;u=0;var b=a.length/2;e.drawArrays(f,u,b)}var p},f=e(4),b=new window.Worker("./gradientWorker.js");n.a=function(t){var n=t.id,e=t.canvasPoints,o=Object(r.useState)(e),a=Object(i.a)(o,2),c=a[0],s=a[1],u=Object(r.useState)(Object(r.useRef)(null)),d=Object(i.a)(u,1)[0],l=function t(n){d.current.getContext("2d").putImageData(n,0,0),window.requestAnimationFrame((function(){return t(n)}))},v=function(){if(d.current.getContext("webgl2"))window.requestAnimationFrame((function(){return g(c,d.current)}));else{console.log("WebGL2 not available, using CPU.");var t=d.current.getContext("2d").createImageData(d.current.width,d.current.height),n=t.data.length;b.terminate(),(b=new window.Worker("./gradientWorker.js")).postMessage({imageData:t,points:c,canvas:{width:d.current.width,height:d.current.height}}),b.onerror=function(t){console.log("error",t)},b.onmessage=function(t){n===t.data.imageData.data.length&&window.requestAnimationFrame((function(){return l(t.data.imageData)}))}}};return Object(r.useEffect)((function(){s(e),v()})),Object(r.useEffect)((function(){d.current.getContext("webgl2")||alert("WebGL not available in this browser/platform. Renders may be slower.")}),[]),Object(f.jsx)("canvas",{id:n,ref:d})}},90:function(t,n,e){"use strict";var i=e(0),r=e(1),o=e.n(r),a=e(87),c=e(15),s=e(4),u=function(t){var n,e,r,u,d,l,v,h,g,f,b,p=t.points,m=t.onChangeColor,x=t.index,j=t.onPickerButton;b=p[x].colour.hex?p[x].colour.hex:p[x].colour;var O=o()({default:{container:{left:p[x].currentXY.x,top:p[x].currentXY.y},pointContainer:{display:"flex",justifyContent:"center",alignItems:"center",height:"36px",width:"36px",flexWrap:"nowrap"},point_unclicked:{backgroundColor:(null===(n=p[x].tags)||void 0===n?void 0:n.showRadius)?b:"#FFFFFF00"},point_clicked:{backgroundColor:b},radius:{width:(null===(e=p[x].tags)||void 0===e?void 0:e.showRadius)?2*p[x].radius+50+"px":"0px",height:(null===(r=p[x].tags)||void 0===r?void 0:r.showRadius)?2*p[x].radius+50+"px":"0px",transition:(null===(u=p[x].tags)||void 0===u?void 0:u.resizing)?"all 0s cubic-bezier(0.52, -1.01, ".concat(.48,", ").concat(2.01,") 0s"):"all 0.3s cubic-bezier(0.52, -1.01, ".concat(.48,", ").concat(2.01,") 0s")},pickerButton:{width:(null===(d=p[x].tags)||void 0===d?void 0:d.clicked)?"30px":"0px",height:(null===(l=p[x].tags)||void 0===l?void 0:l.clicked)?"30px":"0px",fontSize:(null===(v=p[x].tags)||void 0===v?void 0:v.clicked)?"12pt":"0pt",transform:(null===(h=p[x].tags)||void 0===h?void 0:h.clicked)?(null===(g=p[x].tags)||void 0===g?void 0:g.showRadius)?"translate(-50%, calc(-40px - ".concat(p[x].radius+25,"px))"):"translate(-50%, -60px)":"translate(-50%, -50%)",transition:(null===(f=p[x].tags)||void 0===f?void 0:f.resizing)?"all 0s cubic-bezier(0.52, -1.01, ".concat(.48,", ").concat(2.01,") 0s, color 0s"):"all 0.3s cubic-bezier(0.52, -1.01, ".concat(.48,", ").concat(2.01,") 0s, color 0s"),color:b},pickerBar:{position:"fixed",transform:"translate(calc(-50% + 18px), calc(2px+".concat(p[x].radius+25,"))")}}});return p[x].pointRef=Object(i.useRef)(),p[x].containerRef=Object(i.useRef)(),Object(s.jsxs)("div",{className:"dragIContainer",style:O.container,ref:p[x].containerRef,children:[Object(s.jsx)("div",{style:O.pointContainer,children:Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{className:"dragColor",style:O.pickerButton,onClick:function(t){return j(x)},children:Object(s.jsx)(c.d,{})}),Object(s.jsx)("div",{style:O.radius,className:"dragIWeight",id:p[x].id}),Object(s.jsx)("div",{ref:p[x].pointRef,style:O.point_unclicked,className:"dragItem"+(p[x].tags&&(p[x].tags.active||p[x].tags.clicked)?" active":""),tabIndex:1,id:p[x].id})]})}),p[x].tags&&p[x].tags.showPicker&&Object(s.jsx)(a.a,{style:O.pickerBar,color:b,onChange:function(t){return m(x,t,!1)},onChangeComplete:function(t){return m(x,t,!0)},disableAlpha:!0,presetColors:[]})]})};u.defaultProps={className:"dragItem"};var d=u;n.a=function(t){var n=t.points,e=t.onChangeColor,r=t.onRender,o=t.onPickerButton;Object(i.useEffect)((function(){r()}));var a=[];for(var c in n)a.push(Object(s.jsx)(d,{points:n,index:c,onChangeColor:e,onPickerButton:o}));return a}},95:function(t,n,e){},96:function(t,n,e){},97:function(t,n,e){},98:function(t,n,e){}},[[214,1,2]]]);
//# sourceMappingURL=main.81e910b1.chunk.js.map